<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Паттерн ставок — генератор</title>
<style>
  body{margin:0;background:linear-gradient(180deg,#6a11cb,#2575fc);font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;color:#111}
  .card{width:100%;max-width:760px;padding:24px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.95),#fff);box-shadow:0 20px 60px rgba(0,0,0,.25);text-align:center}
  h1{margin:0 0 12px;font-size:22px;color:#0b1220}
  label{display:block;margin:12px 0 6px;font-weight:600;color:#333}
  input{width:220px;padding:10px;border-radius:10px;border:1px solid #ddd;font-size:16px}
  .btn{margin-top:14px;padding:12px 18px;border-radius:12px;border:none;background:#ff2db4;color:#fff;font-weight:700;cursor:pointer;box-shadow:0 8px 30px rgba(255,45,180,.25)}
  .visual{margin-top:20px;padding:18px;border-radius:12px;background:linear-gradient(180deg,#0b1220,#122232);color:#fff}
  .line{background:rgba(255,255,255,0.95);color:#0b1220;margin:8px auto;padding:10px 14px;border-radius:10px;display:inline-block;min-width:320px;font-size:20px;font-weight:800}
  .hint{font-size:13px;color:#444;margin-top:8px}
  @media(max-width:420px){ .line{min-width:260px;font-size:18px} input{width:160px} }
</style>
</head>
<body>
  <div class="card">
    <h1>Генератор паттерна ставок</h1>
    <label>Введите бюджет (MAD) — по этому бюджету распределим паттерн</label>
    <input id="budget" type="number" value="320" min="5" />
    <div class="hint">Паттерн: коэффициенты [1,2,1,2,4], повторы [5,3,4,2,5]. Можно изменить в коде.</div>
    <button class="btn" id="gen">Создать паттерн</button>

    <div class="visual" id="outArea" aria-live="polite" role="status" style="display:none">
      <!-- сюда вывод -->
    </div>
  </div>

<script>
document.getElementById('gen').addEventListener('click', ()=> {
  const budget = Math.max(1, parseInt(document.getElementById('budget').value || 0, 10));
  // базовый паттерн коэффициентов (растущий эффект)
  const coeffs = [1,2,1,2,4]; // можно править
  const repeats = [5,3,4,2,5]; // как в картинке — количество рет
  const sumCoeff = coeffs.reduce((s,v)=>s+v,0);

  // вычисляем сумму для каждой позиции пропорционально coeff
  let raw = coeffs.map(c => c / sumCoeff * budget);

  // округляем суммы к целым и добиваем разницу в последний элемент
  let rounded = raw.map(v => Math.floor(v));
  let totalRounded = rounded.reduce((s,v)=>s+v,0);
  let diff = budget - totalRounded;
  rounded[rounded.length - 1] += diff; // положим остаток в последний

  // Формат вывода: "Общая ставка X - Y рет"
  const outArea = document.getElementById('outArea');
  outArea.style.display = 'block';
  outArea.innerHTML = ''; // очистить

  // стилизованный вывод: крупные белые карточки, как на картинке
  for(let i=0;i<5;i++){
    const line = document.createElement('div');
    line.className = 'line';
    line.innerText = `Общая ставка ${rounded[i]} - ${repeats[i]} рет`;
    outArea.appendChild(line);
  }

  // добавим снизу итог для информации
  const info = document.createElement('div');
  info.style.marginTop = '12px';
  info.style.color = '#dfe9ff';
  info.textContent = `Итого распределено: ${rounded.reduce((s,v)=>s+v,0)} MAD — Бюджет: ${budget} MAD`;
  outArea.appendChild(info);
});
</script>
</body>
</html>
